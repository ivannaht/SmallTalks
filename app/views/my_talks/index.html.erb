<section>
  <div class="container">
    <div class="section-title">
      <h2>My Talks</h2>
    </div>
    <div class="table-responsive-sm">
    <table  class=" table table-hover align-middle"  style='font-size:100%; text-align:center' >
      <thead class="table-light">
        <tr vertical-align: middle>
          <th>Title</th>
          <th>Text</th>
          <th>Photo</th>
          <th>Theme</th>                 
          <th>Comments</th>
          <th>Cached score</th>
          <th colspan="3"></th>
        </tr>
      </thead>
    <tbody>

        <% @talks.each do |talk| %>
          <tr vertical-align: middle>

    <% if talk.user == current_user %>
            <td><%= talk.title %></td>
            <td><%= truncate(talk.text, length: 190, omission: '...')%></td>
            <td><%= image_tag(talk.photo, size: '150') if talk.photo.present? %></td>
            <td><%= talk.theme if talk.theme.present? %></td>            
            <td><%= talk.comments.count %></td>
            <td><%= render "talks/votes_score", talk: talk %></td>
            <td><%= link_to 'View', talk, class:"btn btn-outline-primary" %></td>
            <td><%= link_to 'Edit', edit_talk_path(talk), class:"btn btn-outline-info" %></td>
            <td><%= link_to 'Delete', talk, method: :delete, data: { confirm: 'Are you sure?' }, class:"btn btn-outline-danger" %></td>
            </tr>
        <% end %>
        <% end %>
      </tbody>
    </table>
    </div>
    <br>
  </div>
</section>

